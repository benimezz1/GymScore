const I18N = {
  pt: {
    home_title: "Treino personalizado sem IA (por score)",
    home_subtitle: "Você responde algumas perguntas e o GymScore escolhe o plano mais adequado com base em regras.",
    home_features_title: "O que ele entrega",
    home_feat_1: "Treino principal da semana",
    home_feat_2: "Plano para 5 semanas (progressão simples)",
    home_feat_3: "PDF (Salvar/Imprimir)",
    home_safe_title: "Segurança",
    home_safe_1: "Avisos para descanso",
    home_safe_2: "Ajustes por lesões",
    home_safe_3: "Sem cargas máximas/1RM",
    home_start: "Começar",
    home_disclaimer: "Isso não substitui um profissional. Se tiver dor, pare e procure orientação.",

    form_title: "Informações principais",
    form_help: "Preencha com atenção. Alguns campos mudam bastante o treino.",
    age: "Idade",
    sex: "Sexo (opcional)",
    height: "Altura (cm)",
    weight: "Peso (kg)",
    level: "Nível",
    days: "Dias disponíveis (1 a 7)",
    duration: "Duração do treino",
    duration_legend: "Média: rápido ~35min • médio ~50min • lento ~65min • muito lento ~85min",
    place: "Local",
    place_gym: "Academia",
    place_home: "Casa",
    pick_one: "Escolha",
    opt_skip: "Prefiro não dizer",
    opt_male: "Masculino",
    opt_female: "Feminino",
    lvl_beg: "Iniciante",
    lvl_int: "Intermediário",
    lvl_adv: "Avançado",

    focus_title: "Foco (escolha 1 — é necessário para o plano ficar mais certeiro)",
    focus_hyp: "Hipertrofia",
    focus_cut: "Emagrecimento",
    focus_def: "Definição",
    focus_str: "Força",
    focus_con: "Condicionamento",
    focus_cal: "Calistenia",
    focus_health: "Saúde",
    focus_posture: "Postura",

    injuries: "Histórico de lesões/dor (marque se aplica)",
    inj_shoulder: "Ombro",
    inj_knee: "Joelho",
    inj_spine: "Coluna",
    inj_wrist: "Punho/Cotovelo",
    inj_hip: "Quadril/Tornozelo",

    continue: "Continuar",
    back: "Voltar",
    rest_note: "Se você escolher 6–7 dias, a gente não bloqueia, mas vai recomendar descanso.",

    final_title: "Perguntas finais",
    final_help: "Essa etapa confirma as infos e adiciona preferências para deixar o plano mais certeiro.",
    review_title: "Revisão",
    cardio_title: "Cardio",
    cardio_none: "Sem cardio",
    cardio_light: "Leve",
    cardio_mod: "Moderado",
    cardio_hint: "Leve = 10–15min • Moderado = 15–25min (ajuste simples na semana)",
    cardio_hint2: "Cardio NÃO conta no tempo do treino.",
    gear_title: "Se for em casa, quais equipamentos você tem?",
    gear_dumbbells: "Halteres",
    gear_bands: "Elástico",
    gear_pullup: "Barra fixa",
    gear_bench: "Banco",
    gear_kb: "Kettlebell",
    gear_hint: "Se você não marcar nada, o plano assume peso corporal.",
    see_result: "Ver resultado",

    result_title: "Seu treino da semana",
    warmup_toggle: "Aquecimento (clique para abrir)",
    weeks5_title: "Plano de 5 semanas",
    weeks5_hint: "Progressão simples: primeiro aumente reps até o topo da faixa; depois aumente carga leve e volte reps.",
    generate_5w: "Gerar 5 semanas",
    download_pdf: "Baixar PDF",
    start_over: "Refazer",
    result_disclaimer: "Se sentir dor, pare. Isso não substitui um profissional.",

    err_invalid: "Alguma informação está incorreta. Verifique e tente de novo.",
    warn_rest: "Recomendação: inclua dias de descanso para recuperar melhor (principalmente com 6–7 dias).",
    warn_minor: "Como você é menor de idade, o plano fica mais conservador (técnica, volume e descanso)."
  },

  en: {
    home_title: "Personalized training without AI (rule-based score)",
    home_subtitle: "Answer a few questions and GymScore picks the best plan using rules.",
    home_features_title: "What you get",
    home_feat_1: "Main weekly workout",
    home_feat_2: "5-week plan (simple progression)",
    home_feat_3: "PDF (Print/Save)",
    home_safe_title: "Safety",
    home_safe_1: "Rest recommendations",
    home_safe_2: "Injury adjustments",
    home_safe_3: "No 1RM/max loads",
    home_start: "Start",
    home_disclaimer: "This does not replace a professional. If you feel pain, stop and seek guidance.",

    form_title: "Main info",
    form_help: "Fill carefully. Some fields strongly change the plan.",
    age: "Age",
    sex: "Sex (optional)",
    height: "Height (cm)",
    weight: "Weight (kg)",
    level: "Level",
    days: "Days available (1 to 7)",
    duration: "Workout duration",
    duration_legend: "Average: fast ~35min • medium ~50min • slow ~65min • very slow ~85min",
    place: "Location",
    place_gym: "Gym",
    place_home: "Home",
    pick_one: "Pick one",
    opt_skip: "Prefer not to say",
    opt_male: "Male",
    opt_female: "Female",
    lvl_beg: "Beginner",
    lvl_int: "Intermediate",
    lvl_adv: "Advanced",

    focus_title: "Focus (pick 1 — needed for better accuracy)",
    focus_hyp: "Hypertrophy",
    focus_cut: "Fat loss",
    focus_def: "Definition (cut)",
    focus_str: "Strength",
    focus_con: "Conditioning",
    focus_cal: "Calisthenics",
    focus_health: "Health",
    focus_posture: "Posture",

    injuries: "Injury/pain history (check if applies)",
    inj_shoulder: "Shoulder",
    inj_knee: "Knee",
    inj_spine: "Back/Spine",
    inj_wrist: "Wrist/Elbow",
    inj_hip: "Hip/Ankle",

    continue: "Continue",
    back: "Back",
    rest_note: "If you pick 6–7 days, we won’t block it, but we’ll recommend rest.",

    final_title: "Final questions",
    final_help: "This step confirms your info and adds preferences to refine the plan.",
    review_title: "Review",
    cardio_title: "Cardio",
    cardio_none: "No cardio",
    cardio_light: "Light",
    cardio_mod: "Moderate",
    cardio_hint: "Light = 10–15min • Moderate = 15–25min (simple weekly adjustment)",
    cardio_hint2: "Cardio does NOT count within workout duration.",
    gear_title: "If home, what equipment do you have?",
    gear_dumbbells: "Dumbbells",
    gear_bands: "Bands",
    gear_pullup: "Pull-up bar",
    gear_bench: "Bench",
    gear_kb: "Kettlebell",
    gear_hint: "If you don’t select anything, we assume bodyweight only.",
    see_result: "See result",

    result_title: "Your weekly workout",
    warmup_toggle: "Warm-up (click to open)",
    weeks5_title: "5-week plan",
    weeks5_hint: "Simple progression: add reps to the top range; then add a bit of load and drop reps.",
    generate_5w: "Generate 5 weeks",
    download_pdf: "Download PDF",
    start_over: "Start over",
    result_disclaimer: "If you feel pain, stop. This does not replace a professional.",

    err_invalid: "Some information is incorrect. Please check and try again.",
    warn_rest: "Recommendation: include rest days for better recovery (especially with 6–7 days).",
    warn_minor: "Because you are under 18, the plan is more conservative (technique, volume, rest)."
  }
};

function getLang(){
  return localStorage.getItem("gymscore_lang") || "pt";
}
function setLang(lang){
  localStorage.setItem("gymscore_lang", lang);
  applyI18n();
}
function t(key){
  const lang = getLang();
  return (I18N[lang] && I18N[lang][key]) ? I18N[lang][key] : key;
}
function applyI18n(){
  const lang = getLang();
  document.documentElement.lang = (lang === "en") ? "en" : "pt-br";
  document.querySelectorAll("[data-i18n]").forEach(el=>{
    const key = el.getAttribute("data-i18n");
    el.textContent = t(key);
  });
}
